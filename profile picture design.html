<div class="profile-form-container">
    <div class="form-group">
        <div class="form-group" style="max-width: 100%; width: 100%; margin: 0 auto;">
            <label for="profile-pic" style="font-size: 12px; display: block; margin-bottom: 10px;">
                <span data-en="Profile Picture" 
                      data-ur="پروفائل تصویر" 
                      data-sd="پروفائل تصوير" 
                      data-ar="صورة الملف الشخصي" 
                      data-fr="Photo de profil" 
                      data-it="Immagine del profilo" 
                      data-de="Profilbild" 
                      data-hi="प्रोफ़ाइल चित्र">
                    Profile Picture
                </span>
            </label>
        </div>
        <div class="file-upload-container" 
style="position: relative; display: inline-block; width: 100%; max-width: 300px; margin: 0 auto; overflow: hidden;">
<label for="profile-pic" class="upload-label" 
   style="display: block; width: 100%; padding: 12px; border: 0.5px solid gray; background-color: #f8f8f8; 
          color: #007BFF; border-radius: 5px; text-align: center; cursor: pointer; 
          position: relative; overflow: hidden; transition: all 0.5s ease;"
   data-en="Upload Profile Picture"
   data-ur="پروفائل تصویر اپ لوڈ کریں"
   data-sd="پروفائل تصویر اپلوڊ ڪريو"
   data-ar="تحميل صورة الملف الشخصي"
   data-fr="Télécharger la photo de profil"
   data-it="Carica la foto del profilo"
   data-de="Lade Profilbild hoch"
   data-hi="प्रोफ़ाइल चित्र अपलोड करें">
<input type="file" id="profile-pic" name="profile-pic" accept="image/*" onchange="loadImage(event)" 
       style="display: none;">
<span id="upload-text" style="position: relative; z-index: 1;">Upload Profile Picture</span>
<div id="water-fill" style="position: absolute; bottom: 0; left: 0; width: 100%; height: 0; 
                          background-color: #007BFF; z-index: 0; transition: height 2.5s ease-out;"></div>
</label>

<!-- This is the new text to show after upload -->
<div id="upload-status" 
 style="margin-top: 10px; display: none; text-align: center; font-size: 14px; color: #007BFF;"
 data-en="Picture Uploaded Successfully!"
 data-ur="تصویر کامیابی سے اپ لوڈ ہو گئی"
 data-sd="تصوير ڪاميابي سان اپ لوڊ ٿي وئي"
 data-ar="تم تحميل الصورة بنجاح"
 data-fr="Image téléchargée avec succès"
 data-it="Immagine caricata con successo"
 data-de="Bild erfolgreich hochgeladen"
 data-hi="चित्र सफलतापूर्वक अपलोड हो गया">
Picture Uploaded Successfully!
</div>

<div class="loading-spinner" id="loading-spinner" 
 style="display: none; text-align: center; margin-top: 10px;">
<img src="https://via.placeholder.com/30" alt="Loading" style="width: 30px; height: 30px;">
</div>
</div>

<script>
// Function to trigger the water fill animation and update the status text when the user selects an image
function loadImage(event) {
const uploadStatus = document.getElementById("upload-status");
const waterFill = document.getElementById("water-fill");
const uploadText = document.getElementById("upload-text");
const uploadLabel = document.querySelector(".upload-label");

// Start the water fill animation
waterFill.style.height = "100%";

// Change text color to white after the animation begins
uploadText.style.color = "white";

// Show the "Picture Uploaded Successfully" text
uploadStatus.style.display = "block";

// Simulate file loading and show loading spinner
const loadingSpinner = document.getElementById("loading-spinner");
loadingSpinner.style.display = "block";

const file = event.target.files[0];
const reader = new FileReader();

reader.onload = function(e) {
    // Stop showing the loading spinner once the file is loaded
    loadingSpinner.style.display = "none";
};

reader.readAsDataURL(file);

// Translate based on selected language
const lang = document.documentElement.lang || 'en'; // Get the language (default to 'en' if not set)

// Update text content based on language
uploadText.innerText = uploadLabel.getAttribute(`data-${lang}`);
uploadStatus.innerText = uploadStatus.getAttribute(`data-${lang}`);
}
</script>